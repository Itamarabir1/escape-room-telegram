# Render Blueprint – פריסת הבוט ל-Render
# מדריך: Render Dashboard → New → Blueprint → חבר את ה-repo → Deploy
# תלויות: UV + pyproject.toml (בלי requirements.txt)

previews:
  generation: automatic

services:
  - type: web
    runtime: python
    name: telegram-bot
    rootDir: backend
    buildCommand: uv sync --frozen --no-dev || uv sync --no-dev
    startCommand: uv run uvicorn app.main:app --host 0.0.0.0 --port $PORT
    healthCheckPath: /health
    envVars:
      - key: TELEGRAM_TOKEN
        sync: false
      - key: WEBAPP_URL
        sync: false
      - key: REDIS_URL
        sync: false
